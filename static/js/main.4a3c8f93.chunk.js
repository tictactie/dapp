(this["webpackJsonpTicTacTie Dapp"]=this["webpackJsonpTicTacTie Dapp"]||[]).push([[0],{250:function(e,t,n){},252:function(e,t,n){},253:function(e,t){},261:function(e,t){},302:function(e,t){},304:function(e,t){},329:function(e,t){},331:function(e,t){},343:function(e,t){},360:function(e,t){},461:function(e,t,n){},463:function(e,t,n){},464:function(e,t,n){},465:function(e,t,n){"use strict";n.r(t);var c=n(16),r=n.n(c),a=n(224),s=n.n(a),o=(n(250),n(8)),i=n(24),u=n(0),f=n.n(u),b=(n(252),n(142));var d=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){Object(o.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("check cache"),!window.ethereum){e.next=9;break}return console.log("ethereum"),t=new b.a(window.ethereum),e.next=6,t.listAccounts();case 6:n=e.sent,console.log(n),r(n.length>0);case 9:return e.abrupt("return",r(!1));case 10:case"end":return e.stop()}}),e)})))()}),[]),n},j=n(227),p=n.n(j),l=n(240);var O=function(e){var t={walletconnect:{package:l.a,options:{infuraId:"asd"}}},n=new p.a({network:"any",cacheProvider:!0,providerOptions:t}),r=Object(c.useState)(),a=Object(i.a)(r,2),s=a[0],u=a[1],d=Object(c.useState)(),j=Object(i.a)(d,2),O=j[0],v=j[1],h=Object(c.useState)(),x=Object(i.a)(h,2),w=x[0],k=x[1],g=Object(c.useState)(!1),m=Object(i.a)(g,2),S=m[0],E=m[1],y=Object(c.useState)(),C=Object(i.a)(y,2),T=C[0],N=C[1],F=Object(c.useState)(),A=Object(i.a)(F,2),I=A[0],R=A[1];function D(){return M.apply(this,arguments)}function M(){return(M=Object(o.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=null===s||void 0===s?void 0:s.getSigner(),e.next=4,null===t||void 0===t?void 0:t.getAddress();case 4:v(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),u(void 0),v(void 0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function P(){return U.apply(this,arguments)}function U(){return U=Object(o.a)(f.a.mark((function e(){var t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.connect();case 3:t=e.sent,E(!1),c=new b.a(t,"any"),u(c),t.on("accountsChanged",function(){var e=Object(o.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("chainChanged",function(){var e=Object(o.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("connection failed"),E(!0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),U.apply(this,arguments)}return Object(c.useEffect)((function(){Object(o.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:case"end":return e.stop()}}),e)})))()}),[s,w]),Object(c.useEffect)((function(){Object(o.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===s||void 0===s?void 0:s.getNetwork();case 2:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===t;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=t.name;case 11:n=e.t2,R(n);case 13:case"end":return e.stop()}}),e)})))()}),[T,s]),Object(c.useEffect)((function(){Object(o.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,P();case 3:t.next=6;break;case 5:u(void 0);case 6:case"end":return t.stop()}}),t)})))()}),[e]),[s,O,I,S]},v=(n(461),n(18));var h=function(e){var t=Object(c.useState)(),n=Object(i.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){a(e.address)}),[e.address]),Object(v.jsx)("div",{className:"UserInfo",children:Object(v.jsxs)("span",{children:["Connected account: ",r]})})};n(463);var x=function(e){var t="rinkeby",n=Object(c.useState)(),r=Object(i.a)(n,2),a=r[0],s=r[1];function o(){return t!==a&&void 0!==a}return Object(c.useEffect)((function(){s(e.network)}),[e.network]),Object(v.jsx)("div",{className:"NetworkStatus",hidden:!o(),children:o()&&Object(v.jsx)("div",{className:"error-banner",children:Object(v.jsxs)("span",{className:"error-text",children:["You are connected to ",a," whilst you should be connected to"," ",t]})})})},w=n(236),k=(n(464),n(103)),g=n(238),m=n(13),S="0xb5beF873c67E2E15f3dfD2a70a78031F42F7EcE2",E=["function mint() public payable","function tokenURI(uint256) public view returns (string memory)","event Transfer(address indexed, address indexed, uint)"];var y=function(e){var t=Object(c.useState)(),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(),u=Object(i.a)(s,2),b=u[0],d=u[1],j=Object(c.useState)(),p=Object(i.a)(j,2),l=p[0],O=p[1],h=Object(c.useState)(!1),x=Object(i.a)(h,2),y=x[0],C=x[1],T=Object(c.useState)(),N=Object(i.a)(T,2),F=N[0],A=N[1],I=Object(c.useState)(),R=Object(i.a)(I,2),D=R[0],M=R[1],P=Object(c.useState)(),U=Object(i.a)(P,2),B=U[0],J=U[1];function L(){return(L=Object(o.a)(f.a.mark((function e(){var t,n,c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=21;break}return e.prev=1,t=function(e){console.log(e);var t,n=null===r||void 0===r?void 0:r.filters.Transfer(),c=Object(w.a)(e.events||[]);try{for(c.s();!(t=c.n()).done;){var a=t.value;if(a.address===n.address&&a.topics[0]===n.topics[0])return a.topics[3]}}catch(s){c.e(s)}finally{c.f()}throw new Error("transfer not found")},J(void 0),e.next=6,r.mint({value:g.a.utils.parseEther("0.01"),from:l});case 6:return n=e.sent,C(!0),e.next=10,n.wait(1);case 10:c=e.sent,C(!1),a=t(c),console.log(F),console.log(a),A(m.a.from(a).toString()),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),"string"===typeof e.t0?J(e.t0):e.t0 instanceof Error&&J(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){d(b)}),[e.provider]),Object(c.useEffect)((function(){Object(o.a)(f.a.mark((function t(){var n,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.signer,t.t0=O,t.next=4,null===n||void 0===n?void 0:n.getAddress();case 4:t.t1=t.sent,(0,t.t0)(t.t1),c=n?new k.b(S,E,n):void 0,a(c),A(void 0);case 9:case"end":return t.stop()}}),t)})))()}),[e.signer,S,E]),Object(c.useEffect)((function(){Object(o.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!F){e.next=12;break}return e.t0=fetch,e.next=4,null===r||void 0===r?void 0:r.tokenURI(F);case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:return t=e.sent,e.next=10,t.json();case 10:n=e.sent,M(n.image);case 12:case"end":return e.stop()}}),e)})))()}),[F]),Object(v.jsxs)("div",{className:"Mint",children:[l&&Object(v.jsx)("button",{onClick:function(){return function(){return L.apply(this,arguments)}()},disabled:y,children:"Mint"}),y&&Object(v.jsx)("div",{children:"Minting in progress..."}),Object(v.jsx)("br",{}),!y&&F&&Object(v.jsxs)("span",{children:["Check your last token on"," ",Object(v.jsx)("a",{target:"_blank",href:"https://testnets.opensea.io/assets/".concat(S,"/").concat(F),children:"Opensea"}),Object(v.jsx)("br",{}),Object(v.jsx)("img",{width:"300",src:D})]}),Object(v.jsx)("br",{}),!y&&B&&Object(v.jsxs)("span",{children:["ERROR: ",B]})]})};var C=function(){var e=d(),t=Object(c.useState)(e),n=Object(i.a)(t,2),r=n[0],a=n[1],s=O(r),u=Object(i.a)(s,4),b=u[0],j=u[1],p=u[2],l=u[3],w=Object(c.useState)(),k=Object(i.a)(w,2),g=k[0],m=k[1];return Object(c.useEffect)((function(){Object(o.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===j||void 0===j?void 0:j.getAddress();case 2:t=e.sent,m(t),console.log(t);case 5:case"end":return e.stop()}}),e)})))()}),[j]),Object(c.useEffect)((function(){Object(o.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(void 0!==b||e);case 1:case"end":return t.stop()}}),t)})))()}),[b,l,e]),Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(x,{network:p}),Object(v.jsxs)("header",{className:"App-header",children:[void 0===b&&Object(v.jsx)("button",{onClick:function(){return a(!0)},children:"Connect"}),Object(v.jsx)(y,{provider:b,signer:j}),Object(v.jsx)(h,{address:g})]})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,471)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(C,{})}),document.getElementById("root")),T()}},[[465,1,2]]]);
//# sourceMappingURL=main.4a3c8f93.chunk.js.map